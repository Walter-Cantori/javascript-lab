var cov_13g6s6wyzq=function(){var path="/Users/wrlc/dev/playground/node/goNode/mod2_apiRest/app/models/user.js",hash="d2f638f24d0a3596733e731dc33e8e5ced0037b5",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/wrlc/dev/playground/node/goNode/mod2_apiRest/app/models/user.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:15},end:{line:2,column:34}},"2":{start:{line:3,column:12},end:{line:3,column:35}},"3":{start:{line:4,column:19},end:{line:4,column:47}},"4":{start:{line:6,column:19},end:{line:36,column:2}},"5":{start:{line:38,column:0},end:{line:42,column:3}},"6":{start:{line:39,column:2},end:{line:39,column:43}},"7":{start:{line:39,column:36},end:{line:39,column:43}},"8":{start:{line:41,column:2},end:{line:41,column:54}},"9":{start:{line:44,column:0},end:{line:54,column:2}},"10":{start:{line:46,column:4},end:{line:46,column:51}},"11":{start:{line:50,column:4},end:{line:52,column:7}},"12":{start:{line:56,column:0},end:{line:56,column:35}}},fnMap:{"0":{name:"hashPassword",decl:{start:{line:38,column:38},end:{line:38,column:50}},loc:{start:{line:38,column:57},end:{line:42,column:1}},line:38}},branchMap:{"0":{loc:{start:{line:39,column:2},end:{line:39,column:43}},type:"if",locations:[{start:{line:39,column:2},end:{line:39,column:43}},{start:{line:39,column:2},end:{line:39,column:43}}],line:39}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const mongoose=(cov_13g6s6wyzq.s[0]++,require('mongoose'));const bcrypt=(cov_13g6s6wyzq.s[1]++,require('bcryptjs'));const jwt=(cov_13g6s6wyzq.s[2]++,require('jsonwebtoken'));const authConfig=(cov_13g6s6wyzq.s[3]++,require('../../config/auth'));const UserSchema=(cov_13g6s6wyzq.s[4]++,new mongoose.Schema({name:{type:String,required:true},username:{type:String,required:true,unique:true},email:{type:String,required:true,unique:true,lowercase:true},password:{type:String,required:true},followers:[{type:mongoose.Schema.ObjectId,ref:'User'}],following:[{type:mongoose.Schema.ObjectId,ref:'User'}],createdAt:{type:Date,default:Date.now}}));cov_13g6s6wyzq.s[5]++;UserSchema.pre('save',async function hashPassword(next){cov_13g6s6wyzq.f[0]++;cov_13g6s6wyzq.s[6]++;if(!this.isModified('password')){cov_13g6s6wyzq.b[0][0]++;cov_13g6s6wyzq.s[7]++;next();}else{cov_13g6s6wyzq.b[0][1]++;}cov_13g6s6wyzq.s[8]++;this.password=await bcrypt.hash(this.password,8);});cov_13g6s6wyzq.s[9]++;UserSchema.methods={compareHash(password){cov_13g6s6wyzq.s[10]++;return bcrypt.compare(password,this.password);},generateToken(){cov_13g6s6wyzq.s[11]++;return jwt.sign({id:this.id},authConfig.secret,{expiresIn:86400});}};cov_13g6s6wyzq.s[12]++;mongoose.model('User',UserSchema);